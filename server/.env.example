# =============================================================================
# NCKH PROJECT - SINGLE SOURCE OF TRUTH
# =============================================================================
# Copy file này thành .env và điền giá trị thực tế
# Tất cả services đọc từ file này
# =============================================================================

# -----------------------------------------------------------------------------
# ENVIRONMENT
# -----------------------------------------------------------------------------
NODE_ENV=development

# -----------------------------------------------------------------------------
# DATABASE (PostgreSQL)
# -----------------------------------------------------------------------------
POSTGRES_USER=root
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=nckh
POSTGRES_PORT=5433

# -----------------------------------------------------------------------------
# CACHE (Redis)
# -----------------------------------------------------------------------------
REDIS_PORT=6379
REDIS_PASSWORD=

# TTL tính bằng giây
REDIS_ACCESS_TOKEN_TTL=900
REDIS_REFRESH_TOKEN_TTL=604800

# -----------------------------------------------------------------------------
# MESSAGE QUEUE (RabbitMQ)
# -----------------------------------------------------------------------------
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672

# -----------------------------------------------------------------------------
# JWT SECRETS (SHARED between Gateway & Worker)
# -----------------------------------------------------------------------------
# ⚠️ QUAN TRỌNG: Gateway và Worker PHẢI dùng chung secret để verify token
# Tạo secret: openssl rand -base64 32
JWT_ACCESS_SECRET=your_access_secret_at_least_32_characters_long
JWT_REFRESH_SECRET=your_refresh_secret_at_least_32_characters_long

# Gateway format (human readable)
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Worker format (Go duration)
JWT_ACCESS_EXPIRATION=15m
JWT_REFRESH_EXPIRATION=168h

# -----------------------------------------------------------------------------
# GATEWAY (NestJS)
# -----------------------------------------------------------------------------
GATEWAY_PORT=3000
API_PREFIX=api/v1

# -----------------------------------------------------------------------------
# WORKER (Go gRPC)
# -----------------------------------------------------------------------------
WORKER_GRPC_PORT=50051

# -----------------------------------------------------------------------------
# DEV TOOLS
# -----------------------------------------------------------------------------
ADMINER_PORT=8081
